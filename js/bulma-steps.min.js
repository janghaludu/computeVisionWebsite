'use strict';var _createClass=function(){function a(b,c){for(var f,d=0;d<c.length;d++)f=c[d],f.enumerable=f.enumerable||!1,f.configurable=!0,'value'in f&&(f.writable=!0),Object.defineProperty(b,f.key,f)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var MOUSE_EVENTS=['click','touchstart'],StepsWizard=function(){function a(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,a),this.options=Object.assign({},{selector:'.step-item',selector_content:'.step-content',previous_selector:'[data-nav="previous"]',next_selector:'[data-nav="next"]',active_class:'is-active',completed_class:'is-completed',beforeNext:null,onShow:null,onFinish:null,onError:null},c),this.element=b,this.steps=b.querySelectorAll(this.options.selector),this.contents=b.querySelectorAll(this.options.selector_content),this.previous_btn=b.querySelector(this.options.previous_selector),this.next_btn=b.querySelector(this.options.next_selector),this.init()}return _createClass(a,[{key:'init',value:function init(){for(var c,b=0;b<this.steps.length;b++)c=this.steps[b],c.setAttribute('data-step-id',b);this.bind(),this.start()}},{key:'bind',value:function bind(){var c=this,b=this;null!=this.previous_btn&&MOUSE_EVENTS.forEach(function(d){c.previous_btn.addEventListener(d,function(f){f.preventDefault(),f.target.getAttribute('disabled')||b.previous_step()})}),null!=this.next_btn&&MOUSE_EVENTS.forEach(function(d){c.next_btn.addEventListener(d,function(f){f.preventDefault(),scrollTop(),f.target.getAttribute('disabled')||b.next_step()})})}},{key:'start',value:function start(){this.activate_step(0),this.updateActions(this.steps[0])}},{key:'get_current_step_id',value:function get_current_step_id(){for(var c,b=0;b<this.steps.length;b++)if(c=this.steps[b],c.classList.contains(this.options.active_class))return parseInt(c.getAttribute('data-step-id'));return null}},{key:'updateActions',value:function updateActions(b){var c=parseInt(b.getAttribute('data-step-id'));0==c?(null!=this.previous_btn&&this.previous_btn.setAttribute('disabled','disabled'),null!=this.next_btn&&this.next_btn.removeAttribute('disabled','disabled')):c==this.steps.length-1?(null!=this.previous_btn&&this.previous_btn.removeAttribute('disabled','disabled'),null!=this.next_btn&&this.next_btn.setAttribute('disabled','disabled')):(null!=this.previous_btn&&this.previous_btn.removeAttribute('disabled','disabled'),null!=this.next_btn&&this.next_btn.removeAttribute('disabled','disabled'))}},{key:'next_step',value:function next_step(){var b=this.get_current_step_id();if(null!=b){var c=b+1,d=[];if('undefined'!=typeof this.options.beforeNext&&null!=this.options.beforeNext&&this.options.beforeNext&&(d=this.options.beforeNext(b)),'undefined'==typeof d&&(d=[]),0<d.length){for(var f=0;f<d.length;f++)'undefined'!=typeof this.options.onError&&null!=this.options.onError&&this.options.onError&&this.options.onError(d[f]);return}c>=this.steps.length?('undefined'!=typeof this.options.onFinish&&null!=this.options.onFinish&&this.options.onFinish&&this.options.onFinish(b),this.deactivate_step(b)):(this.complete_step(b),this.activate_step(c))}}},{key:'previous_step',value:function previous_step(){var b=this.get_current_step_id();null==b||(this.uncomplete_step(b-1),this.activate_step(b-1))}},{key:'activate_step',value:function activate_step(b){this.updateActions(this.steps[b]);for(var d,c=0;c<this.steps.length;c++)(d=this.steps[c],d!=this.steps[b])&&this.deactivate_step(c);this.steps[b].classList.add(this.options.active_class),'undefined'!=typeof this.contents[b]&&this.contents[b].classList.add(this.options.active_class),'undefined'!=typeof this.options.onShow&&null!=this.options.onShow&&this.options.onShow&&this.options.onShow(b)}},{key:'complete_step',value:function complete_step(b){this.steps[b].classList.add(this.options.completed_class)}},{key:'uncomplete_step',value:function uncomplete_step(b){this.steps[b].classList.remove(this.options.completed_class)}},{key:'deactivate_step',value:function deactivate_step(b){this.steps[b].classList.remove(this.options.active_class),'undefined'!=typeof this.contents[b]&&this.contents[b].classList.remove(this.options.active_class)}}]),a}();document.addEventListener('DOMContentLoaded',function(){var a=document.querySelectorAll('.steps');[].forEach.call(a,function(b){new StepsWizard(b)})});